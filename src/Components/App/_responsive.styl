/**
 * App - Responsive
 */

body

	@media screen and (max-width: 1024px)

		#tamachi-sidebar
			flex-basis $sidebar_width_resp

		#tamachi-content
			max-width "calc(100vw - %s)" % $sidebar_width_resp

		#tamachi-post-content .alignfull
			width "calc(100vw - %s)" % $sidebar_width_resp

	@media screen and (max-width: 768px)

		#tamachi-content
			max-width 100%

		#tamachi-post-content .alignfull
			width 100vw

		#tamachi-sidebar

			.simplebar-content

				.tamachi-button-toggle_search
					margin-right 0

				#tamachi-button-toggle_sidebar
				#tamachi-button-toggle_color
				.tamachi-button-toggle_search
					top 0
					margin-top 0
					margin-bottom 0

		+prefix-classes('tamachi-')

			#tamachi-search-results
				max-width 100vw
				margin-right -($sidebar_paddinglr_resp)
				border none
				margin-top $sidebar_paddinglr_resp
				border-top .1rem solid var(--color_03)

			.menu-item-container
				padding-right $sidebar_paddinglr_resp
				margin-left $sidebar_paddinglr_resp

			#tamachi-search
				padding 0 $sidebar_paddinglr_resp
				// We need an extra pixel as #sidebar scrollbar appears behind
				width calc(100% + 1px)

				&:before
					opacity .99

				.button-toggle_search
					margin-top 0
					margin-right -5rem
					margin-bottom 0

			.button-toggle_search
				margin-left auto

			#tamachi-sidebar
				position absolute
				// We need an extra pixel as #page scrollbar appears behind
				width calc(100% + 1px)
				z-index 100
				border none

				&.is_open
					#tamachi-button-toggle_color
						display none

				&.no-is_open
					height 0
					flex-direction row
					align-items baseline
					justify-content space-between

			#tamachi-button-toggle_sidebar
			#tamachi-button-toggle_color
			.button-toggle_search
				width $layout_singular_padding
				height $layout_singular_padding

	@media screen and (max-width: 600px)

		.tamachi-layout-home

			.wp-block-melonpan-block-site-title
			.wp-block-melonpan-block-post-list a
				padding $archive_item_paddingtb $archive_item_paddinglr

		#tamachi-post-content .alignfull
			width 100vw
			margin-left -($layout_singular_padding)
